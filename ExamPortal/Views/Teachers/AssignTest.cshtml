@model ExamPortal.Models.ViewModels.AssignTestVM
@{
    ViewBag.Title = "Assign Test";
}
<script>
    $("#AssignStudents tr").click(function () {
        var scholarNo = $("#AssignStudents tr").attr("data-scholarNumber");
        $.ajax({
            type: "POST",
            data: "scholarNo" = scholarNo,
            url: '@Url.Action("AssignStudent", "Teachers")',
            success: function (result) {
                $('#testTaken').html(result);
            }
        });
        $.ajax({
            type: "POST",
            data: "scholarNo" = scholarNo,
            url: '@Url.Action("StudentBriefDetails", "Teachers")',
            success: function (result) {
                $('#studentBriefDetails').html(result);
            }
        });
    });
</script>
<div class="container">
    <h2>AssignTest</h2>
    <div class="row">
        <div class="col-lg-4">
            <select name="selTest">
                @foreach (var item in Model.Tests)
                {
                    <option value="@item.test_id">@Html.DisplayFor(modelItem => item.test_name) -- @Html.DisplayFor(modelItem => item.Subject.subject_name)</option>
                }
            </select>
        </div>
        <div class="col-lg-4">
            <select name="selClass">
                @foreach (var item in Model.listClassesITeach)
                {
                    <option value="@item.Item2">@Html.DisplayFor(modelItem => item.Item1)</option>
                }
            </select>
        </div>
        <div class="col-lg-4">
            @Html.ActionLink("List Students", "ListStudentForAssignTest","Teachers",new { }, new { @class = "btn btn-primary" })
        </div>
    </div>
    <div class="row">
        <div class="col-lg-8">
            <h2>Assign Students</h2>
            <table class="table" id="AssignStudents">
                <tr>
                    <th>scholar no</th>
                    <th>student name</th>
                    <th>students ATKT subjects</th>
                    <th>class</th>
                </tr>
                @foreach (var item in Model.assignTestPartials)
                {
                <tr data-scholarNumber="@item.scholar_no">
                    <td>@Html.DisplayFor(modelItem => item.scholar_no)</td>
                    <td>@Html.DisplayFor(modelItem => item.student_name)</td>
                    <td>@Html.DisplayFor(modelItem => item.student_ATKT_subjects)</td>
                    <td>@Html.DisplayFor(modelItem => item.pretty_class)</td>
                </tr>
                }
            </table>
        </div>
        <div class="col-lg-4">
            <h2>Test Taken</h2>
           <div id="testTaken"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            @Html.ActionLink("Assign Test","SubmitAssignedTest","Teachers",new { }, new { @class = "btn btn-primary" })
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div id="studentBriefDetails"></div>
        </div>
    </div>
</div>






