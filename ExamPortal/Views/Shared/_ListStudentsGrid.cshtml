@model IEnumerable<ExamPortal.Models.ViewModels.StudentsGrid>
<style>
    .grid-parent {
        width: 500px;
        height: 400px;
        overflow-x: hidden;
        overflow-y: auto;
    }
    .grid-cell {
        text-align:center;
    }
    .grid-cell input[type="text"]{
        visibility: hidden;
    }
    .grid-cell:hover input[type="text"] {
        visibility: visible;
    }
</style>
<div class="grid-parent">
    @foreach (var item in Model)
    {
    <div class="grid-cell" id="js-get-details_@item.scholar_no" data-id="@item.scholar_no">
        <div class="image">
            <img src="@item.photo" width="100" height="100" />
            <br />
            @Html.DisplayFor(modelItem => item.unique_name)
            <br />
            @Html.DisplayFor(modelItem => item.Pretty_Class_name)
        </div>
        @using (Ajax.BeginForm("UpdateStudentMarks", new { scholar_no = item.scholar_no, subject_code = item.subject_code }, new AjaxOptions() { UpdateTargetId = "UpdateStudentMarks", InsertionMode = InsertionMode.Replace }, new { @id = "UpdateStudentMarks" }))
        {
            @Html.ValidationSummary();

            @Html.HiddenFor(modelItem => item.scholar_no)
            @Html.HiddenFor(modelItem => item.subject_code)

            @Html.EditorFor(modelitem => item.marks)
        }
    </div>
    }
</div>
<script>
    /*
    $(".image").click(function (event) {
        event.stopPropagation();
        event.stopImmediatePropagation();
        $(this).toggleClass("collapse",false);
    });
    $(".marks").change(function (event) {
        event.stopPropagation();
        event.stopImmediatePropagation();
        var $that = $(this).val().trim().length;
        $(this).toggleClass("collapse",$that==0);
    });
    */
    $('#marks').change(function () {
        $('#UpdateStudentMarks').submit();
    });
</script>